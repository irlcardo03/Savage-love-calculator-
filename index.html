<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="a0a967f7f64d548c0589393d2a3b40e4f57f3bda" content="a0a967f7f64d548c0589393d2a3b40e4f57f3bda" />
<meta name="mylead-verification" content="ce1076eb654816d9cbe28571e8a9b787">
<meta name="mnd-ver" content="90jzhrcp2nbq3cjw135vkw" />
  <title>Rizz Calculator - Find Your Main Character Energy</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #0a0a0a;
      --fg: #fafafa;
      --muted: #6b6b6b;
      --accent: #ff2d55;
      --accent-light: #ff6b8a;
      --accent-dark: #c41e3a;
      --card: #141414;
      --border: #2a2a2a;
      --glow: rgba(255, 45, 85, 0.4);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Space Grotesk', sans-serif;
      background: var(--bg);
      color: var(--fg);
      min-height: 100vh;
      overflow-x: hidden;
    }

    .font-display {
      font-family: 'Bebas Neue', sans-serif;
    }

    /* Animated gradient background */
    .gradient-bg {
      position: fixed;
      inset: 0;
      background: 
        radial-gradient(ellipse at 20% 20%, rgba(255, 45, 85, 0.15) 0%, transparent 50%),
        radial-gradient(ellipse at 80% 80%, rgba(255, 107, 138, 0.1) 0%, transparent 50%),
        radial-gradient(ellipse at 50% 50%, rgba(196, 30, 58, 0.05) 0%, transparent 70%);
      z-index: -2;
    }

    /* Floating particles */
    .particles {
      position: fixed;
      inset: 0;
      z-index: -1;
      pointer-events: none;
    }

    .particle {
      position: absolute;
      border-radius: 50%;
      animation: float-up linear infinite;
      opacity: 0;
    }

    @keyframes float-up {
      0% {
        transform: translateY(100vh) scale(0) rotate(0deg);
        opacity: 0;
      }
      10% {
        opacity: 1;
      }
      90% {
        opacity: 1;
      }
      100% {
        transform: translateY(-100vh) scale(1) rotate(720deg);
        opacity: 0;
      }
    }

    /* Glitch effect */
    @keyframes glitch {
      0%, 90%, 100% { transform: translate(0); }
      92% { transform: translate(-5px, 2px); }
      94% { transform: translate(5px, -2px); }
      96% { transform: translate(-3px, -1px); }
      98% { transform: translate(3px, 1px); }
    }

    .glitch:hover {
      animation: glitch 0.5s ease-in-out;
    }

    /* Pulse glow */
    @keyframes pulse-glow {
      0%, 100% { box-shadow: 0 0 20px var(--glow), 0 0 40px var(--glow); }
      50% { box-shadow: 0 0 40px var(--glow), 0 0 80px var(--glow); }
    }

    /* Counter animation */
    @keyframes counter-pop {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.3); }
    }

    /* Stagger reveal */
    @keyframes reveal {
      from {
        opacity: 0;
        transform: translateY(40px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .reveal {
      animation: reveal 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
      opacity: 0;
    }

    .delay-1 { animation-delay: 0.1s; }
    .delay-2 { animation-delay: 0.2s; }
    .delay-3 { animation-delay: 0.3s; }
    .delay-4 { animation-delay: 0.4s; }
    .delay-5 { animation-delay: 0.5s; }

    /* Heart beat */
    @keyframes heartbeat {
      0%, 100% { transform: scale(1); }
      25% { transform: scale(1.1); }
      35% { transform: scale(1); }
      45% { transform: scale(1.15); }
      55% { transform: scale(1); }
    }

    .heartbeat {
      animation: heartbeat 1.5s ease-in-out infinite;
    }

    /* Progress bar fill */
    @keyframes progress-fill {
      from { width: 0%; }
    }

    /* Shake animation */
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
      20%, 40%, 60%, 80% { transform: translateX(5px); }
    }

    .shake {
      animation: shake 0.5s ease-in-out;
    }

    /* Floating hearts */
    .floating-heart {
      position: fixed;
      font-size: 24px;
      pointer-events: none;
      z-index: 100;
      animation: float-heart 3s ease-out forwards;
    }

    @keyframes float-heart {
      0% {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
      100% {
        opacity: 0;
        transform: translateY(-200px) scale(0);
      }
    }

    /* Score reveal */
    @keyframes score-reveal {
      0% {
        transform: scale(0) rotate(-180deg);
        opacity: 0;
      }
      60% {
        transform: scale(1.2) rotate(10deg);
      }
      100% {
        transform: scale(1) rotate(0deg);
        opacity: 1;
      }
    }

    .score-reveal {
      animation: score-reveal 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
    }

    /* Input glow on focus */
    input:focus {
      outline: none;
      box-shadow: 0 0 0 2px var(--accent), 0 0 20px var(--glow);
    }

    /* Button hover effect */
    .btn-primary {
      background: linear-gradient(135deg, var(--accent) 0%, var(--accent-dark) 100%);
      position: relative;
      overflow: hidden;
    }

    .btn-primary::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, var(--accent-light) 0%, var(--accent) 100%);
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .btn-primary:hover::before {
      opacity: 1;
    }

    /* Toxic meter */
    .toxic-fill {
      transition: width 1s ease-out;
    }

    /* Cancel button */
    .btn-cancel {
      background: linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%);
      border: 1px solid #3a3a3a;
    }

    .btn-cancel:hover {
      border-color: var(--accent);
      box-shadow: 0 0 20px var(--glow);
    }

    /* Red flags animation */
    @keyframes red-flag-wave {
      0%, 100% { transform: rotate(-5deg); }
      50% { transform: rotate(5deg); }
    }

    .red-flag {
      animation: red-flag-wave 1s ease-in-out infinite;
    }

    /* Confetti */
    .confetti {
      position: fixed;
      pointer-events: none;
      z-index: 1000;
    }

    @keyframes confetti-fall {
      0% {
        transform: translateY(-100vh) rotate(0deg);
        opacity: 1;
      }
      100% {
        transform: translateY(100vh) rotate(720deg);
        opacity: 0;
      }
    }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }

    /* Mobile optimizations */
    @media (max-width: 640px) {
      .floating-heart {
        font-size: 18px;
      }
    }
  </style>
</head>
<body class="min-h-screen flex flex-col">
  <!-- Background layers -->
  <div class="gradient-bg"></div>
  <div class="particles" id="particles"></div>

  <!-- Main container -->
  <main class="flex-1 flex flex-col items-center justify-center px-4 py-8 relative z-10">
    
    <!-- Header -->
    <header class="text-center mb-8 sm:mb-12 reveal">
      <div class="flex items-center justify-center gap-2 mb-2">
        <span class="text-xs sm:text-sm font-medium tracking-widest uppercase text-[var(--muted)]">No Cap Energy</span>
        <span class="w-2 h-2 rounded-full bg-[var(--accent)] animate-pulse"></span>
      </div>
      <h1 class="font-display text-5xl sm:text-7xl md:text-8xl tracking-tight glitch" style="color: var(--accent);">
        RIZZ CALCULATOR
      </h1>
      <p class="text-[var(--muted)] mt-2 text-sm sm:text-base">fr tho, are they the one or just a situationship?</p>
    </header>

    <!-- Main Card -->
    <div class="w-full max-w-lg reveal delay-1">
      <div class="bg-[var(--card)] border border-[var(--border)] rounded-2xl p-6 sm:p-8 relative overflow-hidden">
        
        <!-- Decorative corner -->
        <div class="absolute top-0 right-0 w-20 h-20 bg-gradient-to-bl from-[var(--accent)] to-transparent opacity-10 rounded-bl-full"></div>
        
        <!-- Input Section -->
        <div class="space-y-4 mb-6">
          <!-- Person 1 -->
          <div class="relative">
            <label class="block text-xs font-medium text-[var(--muted)] mb-2 uppercase tracking-wider">Your Name (The Main Character)</label>
            <div class="relative">
              <input 
                type="text" 
                id="name1" 
                placeholder="Enter your name bestie..."
                class="w-full bg-[var(--bg)] border border-[var(--border)] rounded-xl px-4 py-3 text-[var(--fg)] placeholder-[var(--muted)] transition-all duration-300 focus:border-[var(--accent)]"
                maxlength="30"
              >
              <div class="absolute right-3 top-1/2 -translate-y-1/2">
                <svg class="w-5 h-5 text-[var(--accent)]" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"/>
                </svg>
              </div>
            </div>
          </div>

          <!-- VS Divider -->
          <div class="flex items-center gap-4 py-2">
            <div class="flex-1 h-px bg-gradient-to-r from-transparent via-[var(--border)] to-transparent"></div>
            <span class="text-[var(--muted)] text-sm font-medium">X</span>
            <div class="flex-1 h-px bg-gradient-to-r from-transparent via-[var(--border)] to-transparent"></div>
          </div>

          <!-- Person 2 -->
          <div class="relative">
            <label class="block text-xs font-medium text-[var(--muted)] mb-2 uppercase tracking-wider">Their Name (The Target)</label>
            <div class="relative">
              <input 
                type="text" 
                id="name2" 
                placeholder="Who you stalking?..."
                class="w-full bg-[var(--bg)] border border-[var(--border)] rounded-xl px-4 py-3 text-[var(--fg)] placeholder-[var(--muted)] transition-all duration-300 focus:border-[var(--accent)]"
                maxlength="30"
              >
              <div class="absolute right-3 top-1/2 -translate-y-1/2">
                <svg class="w-5 h-5 text-[var(--accent-light)]" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                </svg>
              </div>
            </div>
          </div>
        </div>

        <!-- Calculate Button -->
        <button 
          id="calculateBtn"
          class="btn-primary w-full py-4 rounded-xl font-semibold text-white text-lg tracking-wide transition-all duration-300 hover:scale-[1.02] active:scale-[0.98] focus:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent)] focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--card)]"
          aria-label="Calculate love percentage"
        >
          <span class="relative z-10 flex items-center justify-center gap-2">
            <svg class="w-5 h-5 heartbeat" fill="currentColor" viewBox="0 0 24 24">
              <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
            </svg>
            Calculate The Rizz
          </span>
        </button>
      </div>
    </div>

    <!-- Results Section (Hidden initially) -->
    <div id="resultsSection" class="w-full max-w-lg mt-6 hidden">
      <div class="bg-[var(--card)] border border-[var(--border)] rounded-2xl p-6 sm:p-8 space-y-6">
        
        <!-- Score Display -->
        <div class="text-center">
          <div class="inline-flex items-center justify-center w-32 h-32 sm:w-40 sm:h-40 rounded-full border-4 border-[var(--accent)] relative" style="box-shadow: 0 0 40px var(--glow);">
            <div id="scoreCircle" class="text-center">
              <span id="scoreValue" class="font-display text-5xl sm:text-6xl" style="color: var(--accent);">0</span>
              <span class="font-display text-2xl sm:text-3xl text-[var(--muted)]">%</span>
            </div>
            <svg class="absolute inset-0 w-full h-full -rotate-90" viewBox="0 0 100 100">
              <circle cx="50" cy="50" r="45" fill="none" stroke="var(--border)" stroke-width="4"/>
              <circle id="progressRing" cx="50" cy="50" r="45" fill="none" stroke="var(--accent)" stroke-width="4" stroke-linecap="round" stroke-dasharray="283" stroke-dashoffset="283" style="transition: stroke-dashoffset 1.5s ease-out;"/>
            </svg>
          </div>
        </div>

        <!-- Relationship Title -->
        <div class="text-center">
          <h2 id="relationshipTitle" class="font-display text-2xl sm:text-3xl tracking-tight mb-2">Loading...</h2>
          <p id="relationshipSubtitle" class="text-[var(--muted)] text-sm">analyzing the vibes...</p>
        </div>

        <!-- Advice Message -->
        <div id="adviceBox" class="bg-[var(--bg)] border border-[var(--border)] rounded-xl p-4">
          <div class="flex items-start gap-3">
            <span id="adviceEmoji" class="text-2xl">üíÄ</span>
            <p id="adviceText" class="text-sm text-[var(--fg)] leading-relaxed">Loading advice...</p>
          </div>
        </div>

        <!-- Red Flags Counter (Feature 1) -->
        <div id="redFlagsSection" class="hidden">
          <div class="flex items-center justify-between mb-2">
            <span class="text-xs font-medium text-[var(--muted)] uppercase tracking-wider">Red Flags Detected</span>
            <span id="redFlagCount" class="text-sm font-semibold" style="color: var(--accent);">0</span>
          </div>
          <div class="flex gap-1" id="redFlagsContainer">
            <!-- Red flags will be added here -->
          </div>
        </div>

        <!-- Toxic Meter (Feature 2) -->
        <div id="toxicMeterSection" class="hidden">
          <div class="flex items-center justify-between mb-2">
            <span class="text-xs font-medium text-[var(--muted)] uppercase tracking-wider">Toxic Meter</span>
            <span id="toxicLevel" class="text-sm font-semibold">0%</span>
          </div>
          <div class="h-3 bg-[var(--bg)] rounded-full overflow-hidden border border-[var(--border)]">
            <div id="toxicBar" class="h-full toxic-fill rounded-full" style="width: 0%; background: linear-gradient(90deg, #22c55e, #eab308, #ef4444, #7c3aed);"></div>
          </div>
          <p id="toxicLabel" class="text-xs text-[var(--muted)] mt-1">Analyzing toxicity levels...</p>
        </div>

        <!-- Rizz Level (Feature 3) -->
        <div id="rizzLevelSection">
          <div class="flex items-center justify-between mb-2">
            <span class="text-xs font-medium text-[var(--muted)] uppercase tracking-wider">Combined Rizz Level</span>
          </div>
          <div class="flex items-center gap-2">
            <div class="flex-1 h-2 bg-[var(--bg)] rounded-full overflow-hidden border border-[var(--border)]">
              <div id="rizzBar" class="h-full toxic-fill rounded-full" style="width: 0%; background: linear-gradient(90deg, var(--accent-dark), var(--accent), var(--accent-light));"></div>
            </div>
            <span id="rizzRank" class="text-sm font-bold whitespace-nowrap" style="color: var(--accent);">Basic</span>
          </div>
        </div>

        <!-- Breakup Probability (Feature 4) -->
        <div id="breakupSection">
          <div class="flex items-center gap-2 mb-2">
            <span class="text-xs font-medium text-[var(--muted)] uppercase tracking-wider">Breakup Probability (Based on vibes)</span>
            <span id="breakupEmoji" class="text-lg">üò≠</span>
          </div>
          <p id="breakupPrediction" class="text-sm text-[var(--fg)]">Calculating...</p>
        </div>

        <!-- Ship Name Generator (Feature 5) -->
        <div id="shipNameSection" class="text-center py-4 border-t border-[var(--border)]">
          <span class="text-xs font-medium text-[var(--muted)] uppercase tracking-wider block mb-2">Your Ship Name</span>
          <p id="shipName" class="font-display text-3xl sm:text-4xl tracking-tight" style="color: var(--accent);">#Loading...</p>
        </div>

        <!-- Action Buttons -->
        <div class="flex flex-col sm:flex-row gap-3 pt-2">
          <button 
            id="shareWhatsApp"
            class="flex-1 py-3 rounded-xl font-medium text-white transition-all duration-300 hover:scale-[1.02] active:scale-[0.98] focus:outline-none focus-visible:ring-2 focus-visible:ring-green-500"
            style="background: #25D366;"
            aria-label="Share on WhatsApp"
          >
            <span class="flex items-center justify-center gap-2">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/>
              </svg>
              Share on WhatsApp
            </span>
          </button>
          <button 
            id="tryAgainBtn"
            class="btn-cancel flex-1 py-3 rounded-xl font-medium text-[var(--fg)] transition-all duration-300 hover:scale-[1.02] active:scale-[0.98] focus:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent)]"
            aria-label="Try again with different names"
          >
            <span class="flex items-center justify-center gap-2">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
              </svg>
              Try Again
            </span>
          </button>
        </div>
      </div>
    </div>

    <!-- Stats Footer -->
    <footer class="mt-8 text-center reveal delay-5">
      <div class="flex items-center justify-center gap-6 text-xs text-[var(--muted)]">
        <div class="flex items-center gap-1">
          <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
            <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
          </svg>
          <span id="totalCalculations">0</span> calculations
        </div>
        <div class="flex items-center gap-1">
          <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/>
          </svg>
          Worldwide
        </div>
      </div>
      <p class="mt-2 text-[var(--muted)]">Made with questionable vibes</p>
    </footer>
  </main>

  <script>
    // Initialize variables first
    let totalCalculations = Math.floor(Math.random() * 50000) + 10000;
    const storageKey = 'loveCalcTotal';

    // Load from localStorage
    const stored = localStorage.getItem(storageKey);
    if (stored) {
      totalCalculations = parseInt(stored, 10);
    }

    // DOM Elements - initialize after DOM is ready
    let particles, name1Input, name2Input, calculateBtn, resultsSection;
    let scoreValue, progressRing, relationshipTitle, relationshipSubtitle;
    let adviceEmoji, adviceText, redFlagsSection, redFlagCount, redFlagsContainer;
    let toxicMeterSection, toxicLevel, toxicBar, toxicLabel;
    let rizzBar, rizzRank, breakupEmoji, breakupPrediction;
    let shipName, shareWhatsApp, tryAgainBtn, totalCalculationsEl;

    // Data
    const relationshipTypes = {
      high: [
        { title: "SOULMATE ENERGY", subtitle: "This is literally endgame behavior" },
        { title: "MAIN CHARACTER MOMENT", subtitle: "Y'all are the protagonist energy" },
        { title: "CERTIFIED BAE MATERIAL", subtitle: "No cap, this is real love" },
        { title: "GOATED RELATIONSHIP", subtitle: "Literally the G.O.A.T of couples" },
        { title: "SLAYING TOGETHER", subtitle: "The power couple we all need" }
      ],
      medium: [
        { title: "SITUATIONSHIP VIBES", subtitle: "It's giving 'what are we?'" },
        { title: "POTENTIAL FR FR", subtitle: "Could be something, could be nothing" },
        { title: "TALKING STAGE ENERGY", subtitle: "The 'wyd' texts are real" },
        { title: "LOWKEY FEELING IT", subtitle: "Not official but definitely something" }
      ],
      low: [
        { title: "RED FLAG COLLECTION", subtitle: "You collected all the Ls" },
        { title: "FRIENDZONE ACTIVATED", subtitle: "They're just not that into you" },
        { title: "NPC ENERGY", subtitle: "You're an NPC in their story" },
        { title: "GHOSTING IMMINENT", subtitle: "Check if you've been left on read" },
        { title: "TOXIC AFFAIR", subtitle: "Run. Just run." }
      ]
    };

    const adviceMessages = {
      high: [
        { emoji: "üíï", text: "Bestie, you literally found your person. This is giving soulmate energy and I'm here for it. Don't mess this up fr fr." },
        { emoji: "üî•", text: "The chemistry? UNMATCHED. The vibes? IMMACULATE. Y'all are literally goals and everyone knows it." },
        { emoji: "üíç", text: "Start planning the wedding now because this is endgame behavior. No cap, this is real love right here." },
        { emoji: "‚ú®", text: "Main character energy detected. You two are literally the power couple everyone aspires to be. Slay." }
      ],
      medium: [
        { emoji: "ü§î", text: "It's giving situationship. You might need to have 'the talk' soon or forever be in this limbo. Choose wisely." },
        { emoji: "üì±", text: "They're texting back but not making plans. Classic talking stage behavior. Proceed with caution bestie." },
        { emoji: "üí≠", text: "There's potential here but don't catch feelings too fast. Keep your options open for now." },
        { emoji: "üé≠", text: "Mixed signals detected. One day they're all over you, next day they're distant. The duality of situationships." }
      ],
      low: [
        { emoji: "üö©", text: "The red flags are throwing their own parade at this point. Love yourself enough to walk away. Period." },
        { emoji: "üíÄ", text: "This ain't it chief. The universe is literally screaming at you to run. Listen to the signs." },
        { emoji: "üëª", text: "Ghosting loading... 99%. Save yourself the emotional damage and exit stage left." },
        { emoji: "üò≠", text: "I hate to be the bearer of bad news but... you might be the side character in their main story. Oof." }
      ]
    };

    const rizzRanks = [
      { min: 0, label: "NPC Energy", color: "#6b6b6b" },
      { min: 20, label: "Basic", color: "#8b8b8b" },
      { min: 40, label: "Mid Rizz", color: "#eab308" },
      { min: 60, label: "Decent Rizz", color: "#f97316" },
      { min: 75, label: "W Rizz", color: "#22c55e" },
      { min: 85, label: "GOATED Rizz", color: "#3b82f6" },
      { min: 95, label: "GOD TIER Rizz", color: "#a855f7" }
    ];

    const redFlagTypes = [
      "Takes 3+ hours to reply", "Only texts after 10pm", "Never introduces to friends",
      "Still talks to ex", "Has 'explore' in bio", "Posts suspicious stories",
      "Leaves you on delivered", "Says 'I'm not ready'", "Hot and cold behavior",
      "Breadcrumb expert", "Orbiter energy", "Breadcrumb vibes"
    ];

    const breakupPredictions = [
      { range: [0, 20], text: "They might've already ghosted you and you just don't know it yet. Check your last message.", emoji: "üëª" },
      { range: [20, 40], text: "2-4 weeks tops. The slow fade is already in progress. Save yourself the trouble.", emoji: "üìâ" },
      { range: [40, 60], text: "Could go either way fr. Depends on who catches feelings first (it's probably you).", emoji: "üé≤" },
      { range: [60, 80], text: "3-6 months of vibes then someone's gonna want 'more' and chaos ensues.", emoji: "‚è∞" },
      { range: [80, 95], text: "Actually might work out? Shocking I know. Could be the real deal.", emoji: "ü§Ø" },
      { range: [95, 101], text: "What breakup? Y'all are literally endgame. Start picking couple names now.", emoji: "üíç" }
    ];

    // Helper Functions
    function generateShipName(name1, name2) {
      if (!name1 || !name2) return "#Loading...";
      
      const n1 = name1.trim().toLowerCase();
      const n2 = name2.trim().toLowerCase();
      
      if (n1.length < 2 || n2.length < 2) return `#${n1}${n2}`;
      
      const methods = [
        () => n1.slice(0, Math.ceil(n1.length / 2)) + n2.slice(Math.ceil(n2.length / 2)),
        () => n1.slice(0, 2) + n2.slice(1),
        () => n1.slice(0, 1) + n2,
        () => n1 + n2.slice(0, 2),
        () => n1.slice(0, Math.floor(n1.length / 2)) + n2.slice(Math.floor(n2.length / 2))
      ];
      
      const shipName = methods[Math.floor(Math.random() * methods.length)]();
      return `#${shipName.charAt(0).toUpperCase() + shipName.slice(1)}`;
    }

    function calculateLovePercentage(name1, name2) {
      if (!name1 || !name2) return 0;
      
      const combined = (name1 + "loves" + name2).toLowerCase();
      let hash = 0;
      
      for (let i = 0; i < combined.length; i++) {
        const char = combined.charCodeAt(i);
        hash = ((hash << 5) - hash) + char;
        hash = hash & hash;
      }
      
      // Normalize to 0-100 with some variation for same names
      const base = Math.abs(hash) % 101;
      const variation = (Math.random() * 10) - 5;
      
      return Math.max(0, Math.min(100, Math.round(base + variation)));
    }

    function getRelationshipType(percentage) {
      if (percentage >= 75) return relationshipTypes.high;
      if (percentage >= 40) return relationshipTypes.medium;
      return relationshipTypes.low;
    }

    function getAdvice(percentage) {
      const advice = percentage >= 75 ? adviceMessages.high :
                     percentage >= 40 ? adviceMessages.medium :
                     adviceMessages.low;
      return advice[Math.floor(Math.random() * advice.length)];
    }

    function getRizzRank(percentage) {
      let rank = rizzRanks[0];
      for (const r of rizzRanks) {
        if (percentage >= r.min) rank = r;
      }
      return rank;
    }

    function getBreakupPrediction(percentage) {
      for (const pred of breakupPredictions) {
        if (percentage >= pred.range[0] && percentage < pred.range[1]) {
          return pred;
        }
      }
      return breakupPredictions[breakupPredictions.length - 1];
    }

    function generateRedFlags(percentage) {
      if (percentage >= 60) return [];
      
      const count = percentage >= 40 ? Math.floor(Math.random() * 3) + 1 :
                    percentage >= 20 ? Math.floor(Math.random() * 4) + 3 :
                    Math.floor(Math.random() * 3) + 5;
      
      const shuffled = [...redFlagTypes].sort(() => Math.random() - 0.5);
      return shuffled.slice(0, Math.min(count, 6));
    }

    function createParticles() {
      const colors = ['#ff2d55', '#ff6b8a', '#c41e3a', '#ff4081'];
      const shapes = ['circle', 'heart'];
      
      for (let i = 0; i < 30; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        
        const size = Math.random() * 12 + 4;
        const color = colors[Math.floor(Math.random() * colors.length)];
        const shape = shapes[Math.floor(Math.random() * shapes.length)];
        const duration = Math.random() * 8 + 6;
        const delay = Math.random() * 10;
        
        particle.style.cssText = `
          width: ${size}px;
          height: ${size}px;
          left: ${Math.random() * 100}%;
          background: ${color};
          ${shape === 'heart' ? 'clip-path: path("M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z");' : ''}
          animation-duration: ${duration}s;
          animation-delay: ${delay}s;
        `;
        
        particles.appendChild(particle);
      }
    }

    function createFloatingHeart(x, y) {
      const heart = document.createElement('div');
      heart.className = 'floating-heart';
      heart.innerHTML = ['‚ù§Ô∏è', 'üíï', 'üíó', 'üíñ', 'üíò'][Math.floor(Math.random() * 5)];
      heart.style.left = x + 'px';
      heart.style.top = y + 'px';
      document.body.appendChild(heart);
      
      setTimeout(() => heart.remove(), 3000);
    }

    function createConfetti() {
      const colors = ['#ff2d55', '#ff6b8a', '#22c55e', '#3b82f6', '#f59e0b', '#a855f7'];
      
      for (let i = 0; i < 50; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        
        const size = Math.random() * 10 + 5;
        const color = colors[Math.floor(Math.random() * colors.length)];
        const left = Math.random() * 100;
        const duration = Math.random() * 3 + 2;
        const delay = Math.random() * 0.5;
        
        confetti.style.cssText = `
          position: fixed;
          width: ${size}px;
          height: ${size}px;
          left: ${left}%;
          top: -20px;
          background: ${color};
          border-radius: ${Math.random() > 0.5 ? '50%' : '2px'};
          animation: confetti-fall ${duration}s ease-out ${delay}s forwards;
          z-index: 1000;
        `;
        
        document.body.appendChild(confetti);
        setTimeout(() => confetti.remove(), (duration + delay) * 1000);
      }
    }

    function animateScore(targetScore) {
      let current = 0;
      const duration = 1500;
      const startTime = Date.now();
      
      function update() {
        const elapsed = Date.now() - startTime;
        const progress = Math.min(elapsed / duration, 1);
        const eased = 1 - Math.pow(1 - progress, 3);
        
        current = Math.round(eased * targetScore);
        scoreValue.textContent = current;
        
        // Update progress ring
        const circumference = 283;
        const offset = circumference - (circumference * current / 100);
        progressRing.style.strokeDashoffset = Math.max(0, offset);
        
        if (progress < 1) {
          requestAnimationFrame(update);
        }
      }
      
      update();
    }

    function displayResults(percentage, name1, name2) {
      // Show results section
      resultsSection.classList.remove('hidden');
      resultsSection.classList.add('reveal');
      
      // Animate score
      setTimeout(() => animateScore(percentage), 100);
      
      // Set relationship type
      const relTypes = getRelationshipType(percentage);
      const rel = relTypes[Math.floor(Math.random() * relTypes.length)];
      relationshipTitle.textContent = rel.title;
      relationshipSubtitle.textContent = rel.subtitle;
      
      // Set advice
      const advice = getAdvice(percentage);
      adviceEmoji.textContent = advice.emoji;
      adviceText.textContent = advice.text;
      
      // Red flags
      const flags = generateRedFlags(percentage);
      if (flags.length > 0) {
        redFlagsSection.classList.remove('hidden');
        redFlagCount.textContent = flags.length;
        redFlagsContainer.innerHTML = flags.map(f => `
          <div class="flex items-center gap-1 bg-[var(--bg)] px-2 py-1 rounded-lg border border-[var(--border)] red-flag">
            <span class="text-sm">üö©</span>
            <span class="text-xs text-[var(--fg)]">${f}</span>
          </div>
        `).join('');
      } else {
        redFlagsSection.classList.add('hidden');
      }
      
      // Toxic meter
      const toxicPercent = percentage < 40 ? Math.floor(Math.random() * 40) + 60 :
                          percentage < 60 ? Math.floor(Math.random() * 30) + 30 :
                          Math.floor(Math.random() * 25);
      if (percentage < 60) {
        toxicMeterSection.classList.remove('hidden');
        setTimeout(() => {
          toxicBar.style.width = toxicPercent + '%';
          toxicLevel.textContent = toxicPercent + '%';
          toxicLabel.textContent = toxicPercent > 70 ? " EXTREME TOXICITY - ABORT MISSION" :
                                   toxicPercent > 40 ? "Moderate toxicity - proceed with caution" :
                                   "Low toxicity - might be salvageable";
        }, 200);
      } else {
        toxicMeterSection.classList.add('hidden');
      }
      
      // Rizz level
      const rizz = getRizzRank(percentage);
      setTimeout(() => {
        rizzBar.style.width = percentage + '%';
        rizzRank.textContent = rizz.label;
        rizzRank.style.color = rizz.color;
      }, 200);
      
      // Breakup prediction
      const breakup = getBreakupPrediction(percentage);
      breakupEmoji.textContent = breakup.emoji;
      breakupPrediction.textContent = breakup.text;
      
      // Ship name
      shipName.textContent = generateShipName(name1, name2);
      
      // Confetti for high scores
      if (percentage >= 80) {
        setTimeout(createConfetti, 500);
      }
      
      // Scroll to results
      setTimeout(() => {
        resultsSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }, 100);
    }

    function handleCalculate() {
      const name1 = name1Input.value.trim();
      const name2 = name2Input.value.trim();
      
      if (!name1 || !name2) {
        // Shake animation for empty inputs
        if (!name1) name1Input.parentElement.classList.add('shake');
        if (!name2) name2Input.parentElement.classList.add('shake');
        
        setTimeout(() => {
          name1Input.parentElement.classList.remove('shake');
          name2Input.parentElement.classList.remove('shake');
        }, 500);
        return;
      }
      
      // Create floating hearts on click
      const rect = calculateBtn.getBoundingClientRect();
      for (let i = 0; i < 8; i++) {
        setTimeout(() => {
          createFloatingHeart(
            rect.left + Math.random() * rect.width,
            rect.top
          );
        }, i * 50);
      }
      
      // Calculate
      const percentage = calculateLovePercentage(name1, name2);
      
      // Update total calculations
      totalCalculations++;
      localStorage.setItem(storageKey, totalCalculations.toString());
      totalCalculationsEl.textContent = totalCalculations.toLocaleString();
      
      // Display results
      displayResults(percentage, name1, name2);
    }

    function handleShare() {
      const name1 = name1Input.value.trim();
      const name2 = name2Input.value.trim();
      const percentage = scoreValue.textContent;
      
      const text = `Yo! I just calculated my rizz with "${name1}" x "${name2}" and got ${percentage}%! ${percentage >= 75 ? 'WE ARE ENDGAME FR' : percentage >= 40 ? 'It\'s giving situationship' : 'MASSIVE L'} Check yours: ${window.location.href}`;
      
      const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(text)}`;
      window.open(whatsappUrl, '_blank');
    }

    function handleTryAgain() {
      resultsSection.classList.add('hidden');
      name1Input.value = '';
      name2Input.value = '';
      name1Input.focus();
      
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Initialize when DOM is ready
    document.addEventListener('DOMContentLoaded', () => {
      // Get DOM elements
      particles = document.getElementById('particles');
      name1Input = document.getElementById('name1');
      name2Input = document.getElementById('name2');
      calculateBtn = document.getElementById('calculateBtn');
      resultsSection = document.getElementById('resultsSection');
      scoreValue = document.getElementById('scoreValue');
      progressRing = document.getElementById('progressRing');
      relationshipTitle = document.getElementById('relationshipTitle');
      relationshipSubtitle = document.getElementById('relationshipSubtitle');
      adviceEmoji = document.getElementById('adviceEmoji');
      adviceText = document.getElementById('adviceText');
      redFlagsSection = document.getElementById('redFlagsSection');
      redFlagCount = document.getElementById('redFlagCount');
      redFlagsContainer = document.getElementById('redFlagsContainer');
      toxicMeterSection = document.getElementById('toxicMeterSection');
      toxicLevel = document.getElementById('toxicLevel');
      toxicBar = document.getElementById('toxicBar');
      toxicLabel = document.getElementById('toxicLabel');
      rizzBar = document.getElementById('rizzBar');
      rizzRank = document.getElementById('rizzRank');
      breakupEmoji = document.getElementById('breakupEmoji');
      breakupPrediction = document.getElementById('breakupPrediction');
      shipName = document.getElementById('shipName');
      shareWhatsApp = document.getElementById('shareWhatsApp');
      tryAgainBtn = document.getElementById('tryAgainBtn');
      totalCalculationsEl = document.getElementById('totalCalculations');
      
      // Initialize particles
      createParticles();
      
      // Update total display
      totalCalculationsEl.textContent = totalCalculations.toLocaleString();
      
      // Event listeners
      calculateBtn.addEventListener('click', handleCalculate);
      shareWhatsApp.addEventListener('click', handleShare);
      tryAgainBtn.addEventListener('click', handleTryAgain);
      
      // Enter key support
      name1Input.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') name2Input.focus();
      });
      
      name2Input.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') handleCalculate();
      });
      
      // Create hearts on button hover
      calculateBtn.addEventListener('mouseenter', () => {
        const rect = calculateBtn.getBoundingClientRect();
        createFloatingHeart(
          rect.left + Math.random() * rect.width,
          rect.top + rect.height
        );
      });
    });
  </script>
</body>
</html>
