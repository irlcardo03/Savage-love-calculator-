<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- ===== SEO MASTER SECTION ===== -->
    <title>Couple or Clowns? - Real Love Calculator & Compatibility Test</title>
    <meta name="description" content="The most savage relationship compatibility test on the internet. A true love test and love percentage calculator that exposes the truth. Try our zodiac love calculator and name compatibility test today!">
    <meta name="keywords" content="calculator, real love calculator, love compatibility test, relationship compatibility test, love percentage calculator, true love test, couple compatibility test, zodiac love calculator, name compatibility test, romantic compatibility calculator">
    <meta name="author" content="Savage Love Calculator">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph (Social Media Share) -->
    <meta property="og:title" content="Couple or Clowns? - Savage Relationship Audit">
    <meta property="og:description" content="The ultimate real love calculator. We expose your relationship truth. No mercy.">
    <meta property="og:image" content="https://savagelovecalculator.pages.dev/preview.png">
    <meta property="og:url" content="https://savagelovecalculator.pages.dev">
    <meta property="og:type" content="website">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Couple or Clowns? - Savage Relationship Audit">
    <meta name="twitter:description" content="The ultimate real love calculator. No mercy.">
    <meta name="twitter:image" content="https://savagelovecalculator.pages.dev/preview.png">

    <!-- ===== FAVICON (ICON) ===== -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ’”</text></svg>">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ’”</text></svg>">

    <!-- ===== AD NETWORK SCRIPTS (HEAD) ===== -->
    <!-- Mondiads Banner Script -->
    <script async src="https://ss.mrmnd.com/banner.js"></script>
    <!-- Mondiads In-Page Push Script -->
    <script async src="https://ss.mrmnd.com/static/a76ea0b8-1243-459a-8f73-518644cd39e4.js"></script>
    
    <!-- Hilltopads In-Page Push Script -->
    <script>
    (function(aws){
    var d = document,
        s = d.createElement('script'),
        l = d.scripts[d.scripts.length - 1];
    s.settings = aws || {};
    s.src = "\/\/zany-aside.com\/bKXFVUsEd.Gql\/0RYaWdcY\/PeBmw9luiZPUGlbkLP\/THYq3\/O-TGgdxIMgDmU\/t\/NFj-cT5aOpDKECw\/OXQP";
    s.async = true;
    s.referrerPolicy = 'no-referrer-when-downgrade';
    l.parentNode.insertBefore(s, l);
    })({})
    </script>

    <!-- Fonts & Tailwind -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800;900&family=Satisfy&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        /* --- CSS VARIABLES --- */
        :root {
            --primary: #FF4D8D;
            --secondary: #FF8A5B;
            --glass-bg: rgba(255, 255, 255, 0.35);
            --glass-border: rgba(255, 255, 255, 0.5);
            --text-dark: #4A4A4A;
            --bg-gradient: linear-gradient(135deg, #FFF0F5 0%, #FFE4E1 50%, #FFDAB9 100%);
        }

        /* --- BASE STYLES --- */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: var(--bg-gradient);
            color: var(--text-dark);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* --- ANIMATED BACKGROUND PARTICLES --- */
        .particles {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none;
            z-index: 0;
        }
        .particle {
            position: absolute;
            background: rgba(255, 77, 141, 0.4);
            border-radius: 50%;
            animation: floatUp linear infinite;
        }
        @keyframes floatUp {
            0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
            20% { opacity: 0.6; }
            100% { transform: translateY(-100vh) rotate(720deg); opacity: 0; }
        }

        /* --- GLASSMORPHISM EFFECT --- */
        .glass {
            background: var(--glass-bg);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(255, 77, 141, 0.1);
        }

        /* --- FLOATING CPA WIDGET (LEFT) --- */
        .floating-ad {
            position: fixed;
            left: 10px;
            top: 50%;
            transform: translateY(-50%);
            width: 70px;
            padding: 10px 5px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 8px 20px rgba(255, 77, 141, 0.4);
            z-index: 999;
            animation: pulse 2s infinite;
            cursor: pointer;
            text-decoration: none;
        }
        .floating-ad span {
            display: block;
            font-size: 24px;
            margin-bottom: 4px;
        }
        .floating-ad small {
            display: block;
            font-size: 9px;
            color: white;
            font-weight: 600;
            line-height: 1.1;
            text-transform: uppercase;
        }
        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 0 0 rgba(255, 77, 141, 0.4); }
            50% { box-shadow: 0 0 0 10px rgba(255, 77, 141, 0); }
        }

        /* --- AD BANNERS (STYLIZED) --- */
        .ad-container {
            width: 100%;
            display: flex;
            justify-content: center;
            padding: 10px 0;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            margin-bottom: 15px;
            margin-top: 5px;
        }
        .ad-container.bottom-ad {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 99;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px 12px 0 0;
            box-shadow: 0 -4px 20px rgba(0,0,0,0.1);
            padding: 8px 0;
            margin: 0;
        }
        /* Adjustment for body to not hide content behind bottom ad */
        body { padding-bottom: 100px; }

        /* --- MAIN CONTAINER --- */
        .container {
            position: relative;
            z-index: 10;
            max-width: 500px;
            margin: 0 auto;
            padding: 20px 16px 120px; /* Extra padding for bottom ad */
        }

        /* --- HEADER --- */
        header {
            text-align: center;
            padding: 30px 0 20px;
        }
        header h1 {
            font-size: 32px;
            font-weight: 800;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 0;
        }
        header p.sub {
            font-family: 'Satisfy', cursive;
            font-size: 22px;
            color: var(--secondary);
            margin-top: 0;
        }
        .brand-watermark {
            display: inline-block;
            margin-top: 10px;
            font-size: 11px;
            background: rgba(255,255,255,0.6);
            padding: 4px 12px;
            border-radius: 20px;
            color: #777;
        }
        .brand-watermark a {
            color: var(--primary);
            text-decoration: none;
            font-weight: 700;
        }

        /* --- INPUT CARD --- */
        .input-card {
            padding: 30px 25px;
            margin-bottom: 20px;
        }
        .input-group {
            margin-bottom: 15px;
        }
        .input-group label {
            display: block;
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
            margin-bottom: 6px;
            color: #555;
        }
        .input-group input {
            width: 100%;
            padding: 14px 18px;
            border-radius: 12px;
            border: 2px solid rgba(255, 184, 208, 0.5);
            background: rgba(255,255,255,0.6);
            font-family: 'Poppins', sans-serif;
            font-size: 15px;
            color: #333;
            outline: none;
            transition: all 0.3s;
        }
        .input-group input:focus {
            border-color: var(--primary);
            background: white;
            box-shadow: 0 0 0 3px rgba(255, 77, 141, 0.1);
        }
        .row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        /* --- BUTTON --- */
        .btn-scan {
            width: 100%;
            padding: 16px;
            border: none;
            border-radius: 12px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            font-size: 16px;
            font-weight: 700;
            font-family: 'Poppins', sans-serif;
            cursor: pointer;
            box-shadow: 0 8px 20px rgba(255, 77, 141, 0.3);
            transition: transform 0.2s;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .btn-scan:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 24px rgba(255, 77, 141, 0.4);
        }
        .btn-scan:active { transform: scale(0.98); }

        /* --- RESULTS SECTION --- */
        .results-section {
            display: none;
            margin-bottom: 20px;
        }
        .results-section.active {
            display: block;
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- SCORE DISPLAY --- */
        .score-box {
            text-align: center;
            padding: 40px 20px;
            margin-bottom: 15px;
        }
        .score-number {
            font-size: 80px;
            font-weight: 900;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            line-height: 1;
        }
        .score-label {
            text-transform: uppercase;
            letter-spacing: 2px;
            font-size: 12px;
            color: #888;
            margin-top: 5px;
        }
        .emojis {
            font-size: 40px;
            margin-top: 10px;
            letter-spacing: 5px;
        }

        /* --- VERDICT --- */
        .verdict-box {
            padding: 25px;
            text-align: center;
            margin-bottom: 15px;
        }
        .verdict-box h3 {
            font-size: 18px;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 8px;
        }
        .verdict-box p {
            font-size: 14px;
            line-height: 1.5;
            color: #555;
        }

        /* --- STATS GRID --- */
        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 15px;
        }
        .stat-card {
            padding: 15px;
            text-align: center;
        }
        .stat-card.wide { grid-column: span 2; }
        .stat-icon { font-size: 20px; margin-bottom: 5px; display: block;}
        .stat-value { font-size: 18px; font-weight: 700; color: var(--primary); }
        .stat-label { font-size: 10px; text-transform: uppercase; color: #888; margin-top: 2px; display: block;}
        
        /* Progress Bars */
        .progress-bg {
            width: 100%;
            height: 6px;
            background: rgba(0,0,0,0.05);
            border-radius: 3px;
            margin-top: 8px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            border-radius: 3px;
        }

        /* --- HIDDEN TRUTH --- */
        .locked-card {
            position: relative;
            overflow: hidden;
            padding: 25px;
            text-align: center;
            margin-bottom: 15px;
        }
        .blurry { filter: blur(6px); pointer-events: none; user-select: none; }
        .lock-overlay {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(255, 255, 255, 0.7);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: opacity 0.3s;
        }
        .lock-overlay.gone { opacity: 0; pointer-events: none; }
        .lock-icon { font-size: 30px; margin-bottom: 5px; }
        .lock-text { font-size: 12px; font-weight: 600; color: var(--primary); }

        /* --- DEEP ANALYSIS --- */
        .analysis-box {
            padding: 20px;
            margin-bottom: 15px;
        }
        .analysis-box h4 {
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #888;
            text-align: center;
            margin-bottom: 15px;
        }
        .stat-row {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        .stat-row span { flex: 1; font-size: 13px; }
        .stat-row strong { width: 40px; text-align: right; font-size: 13px; color: var(--primary); }

        /* --- BUTTONS --- */
        .btns-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 15px;
        }
        .btn-action {
            padding: 14px;
            border: none;
            border-radius: 10px;
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            font-size: 13px;
            cursor: pointer;
            transition: transform 0.2s;
        }
        .btn-action:hover { transform: scale(1.02); }
        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            box-shadow: 0 4px 15px rgba(255, 77, 141, 0.3);
        }
        .btn-secondary {
            background: rgba(255,255,255,0.6);
            color: #555;
            border: 1px solid rgba(255,77,141,0.2);
        }
        .full-w { grid-column: span 2; }

        /* --- SHARE --- */
        .share-box {
            padding: 15px;
            text-align: center;
        }
        .share-title { font-size: 11px; text-transform: uppercase; color: #888; margin-bottom: 10px; display: block;}
        .share-btns button {
            background: white;
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            font-family: 'Poppins', sans-serif;
            font-size: 12px;
            font-weight: 600;
            margin: 4px;
            cursor: pointer;
            transition: background 0.2s;
        }
        .share-btns button:hover { background: #FFE4E1; }

        /* Responsive */
        @media (max-width: 400px) {
            .score-number { font-size: 64px; }
            header h1 { font-size: 26px; }
        }
    </style>
</head>
<body>

    <!-- Particles Background -->
    <div class="particles" id="particles"></div>

    <!-- FLOATING CPA WIDGET (LEFT) - MyLead Smartlink -->
    <a href="https://trustedoffers.pro/a/684E6FWvph54PA" target="_blank" class="floating-ad" id="floatingAd">
        <span>&#128151;</span>
        <small>Single? Meet Someone!</small>
    </a>

    <!-- MAIN CONTAINER -->
    <div class="container">
        
        <!-- HEADER -->
        <header>
            <h1>Couple or Clowns?</h1>
            <p class="sub">The Savage Relationship Audit</p>
            <div class="brand-watermark">Tested at: <a href="https://savagelovecalculator.pages.dev" target="_blank">savagelovecalculator.pages.dev</a></div>
        </header>

        <!-- TOP AD BANNER (MONDIADS) -->
        <div class="ad-container glass">
            <div data-mndbanid="acbf1b00-e39f-4ee9-8457-36f2fdac0b0b"></div>
        </div>

        <!-- INPUT SECTION -->
        <section class="glass input-card" id="inputSection">
            <div class="input-group">
                <label>Your Name</label>
                <input type="text" id="name1" placeholder="Enter your name...">
            </div>
            <div class="input-group">
                <label>Their Name</label>
                <input type="text" id="name2" placeholder="Enter their name...">
            </div>
            
            <div class="row">
                <div class="input-group">
                    <label>Your Birthday</label>
                    <input type="date" id="dob1">
                </div>
                <div class="input-group">
                    <label>Their Birthday</label>
                    <input type="date" id="dob2">
                </div>
            </div>

            <button class="btn-scan" id="scanBtn">&#128163; Scan Relationship</button>
        </section>

        <!-- RESULTS SECTION -->
        <section class="results-section" id="resultsSection">
            
            <!-- Main Score -->
            <div class="glass score-box">
                <div class="score-number" id="scoreNum">0%</div>
                <div class="score-label">Compatibility Score</div>
                <div class="emojis" id="emojis">&#128526;&#128526;&#128526;</div>
            </div>

            <!-- Main Verdict -->
            <div class="glass verdict-box">
                <h3 id="verdictTitle">Calculating...</h3>
                <p id="verdictText">Analyzing the chaos...</p>
            </div>

            <!-- Quick Stats -->
            <div class="stats-grid">
                <div class="glass stat-card">
                    <span class="stat-icon">&#128293;</span>
                    <span class="stat-value" id="problemPercent">0%</span>
                    <span class="stat-label" id="problemLabel">Problem Source</span>
                </div>
                <div class="glass stat-card">
                    <span class="stat-icon">&#129298;</span>
                    <span class="stat-value" id="exPercent">0%</span>
                    <span class="stat-label">Loves Ex</span>
                </div>
                <div class="glass stat-card wide">
                    <span class="stat-icon">&#128274;</span>
                    <span class="stat-value" id="cheatRisk">Low</span>
                    <span class="stat-label">Cheating Risk</span>
                    <div class="progress-bg"><div class="progress-fill" id="cheatBar" style="width:10%"></div></div>
                </div>
                <div class="glass stat-card wide">
                    <span class="stat-icon">&#129323;</span>
                    <span class="stat-value" id="delusionLevel">Stable</span>
                    <span class="stat-label">Delusion Meter</span>
                    <div class="progress-bg"><div class="progress-fill" id="delusionBar" style="width:20%"></div></div>
                </div>
            </div>

            <!-- Lifespan -->
            <div class="glass verdict-box">
                <h3>&#9203; Relationship Lifespan</h3>
                <p id="lifespanText">Predicting...</p>
            </div>

            <!-- Hidden Truth -->
            <div class="glass locked-card" id="hiddenCard">
                <div class="blurry" id="blurryContent">
                    <h3 style="font-size:16px; margin-bottom:8px;">Hidden Truth Revealed</h3>
                    <p id="hiddenText" style="font-size:13px;">The biggest red flag is hidden...</p>
                </div>
                <div class="lock-overlay" id="lockOverlay">
                    <div class="lock-icon">&#128274;</div>
                    <div class="lock-text">Click to Reveal</div>
                </div>
            </div>

            <!-- Deep Analysis -->
            <div class="glass analysis-box">
                <h4>&#128202; Deep Analysis Report</h4>
                
                <div class="stat-row">
                    <span>Emotional Stability</span>
                    <strong id="emoStab">0%</strong>
                </div>
                <div class="progress-bg" style="margin-bottom:10px;"><div class="progress-fill" id="emoBar" style="width:0%"></div></div>
                
                <div class="stat-row">
                    <span>Drama Potential</span>
                    <strong id="dramaPot">0%</strong>
                </div>
                <div class="progress-bg" style="margin-bottom:10px;"><div class="progress-fill" id="dramaBar" style="width:0%"></div></div>
                
                <div class="stat-row">
                    <span>Marriage Survival</span>
                    <strong id="marrSurv">0%</strong>
                </div>
                <div class="progress-bg"><div class="progress-fill" id="marrBar" style="width:0%"></div></div>
            </div>

            <!-- Action Buttons -->
            <div class="btns-grid">
                <button class="btn-action btn-primary full-w" id="downBtn">&#128247; Save The Evidence</button>
                <button class="btn-action btn-secondary full-w" id="resetBtn">&#128260; Test With Someone Better</button>
            </div>

            <!-- Share -->
            <div class="glass share-box">
                <span class="share-title">Share This Chaos</span>
                <div class="share-btns">
                    <button id="share1">&#128241; Send</button>
                    <button id="share2">&#128293; Post</button>
                    <button id="share3">&#128128; Expose</button>
                </div>
            </div>

        </section>

    </div>

    <!-- BOTTOM AD BANNER (MONDIADS) - Fixed at bottom -->
    <div class="ad-container bottom-ad">
        <div data-mndbanid="acbf1b00-e39f-4ee9-8457-36f2fdac0b0b"></div>
    </div>

    <!-- CANVAS FOR SCREENSHOT (Hidden) -->
    <canvas id="canvas" style="display:none;"></canvas>

    <!-- JAVASCRIPT -->
    <script>
    // ==================================================
    // 1000+ SAVAGE WORDS DATABASE
    // ==================================================
    const DATA = {
        disaster: [
            "This isn't a relationship, it's a cry for help.", "Even the algorithm is confused why you're together.", "Scientists are studying you both as a warning to others.", "Your compatibility is so low, it's impressive.", "Not even a therapist could save this.", "This is what happens when desperation meets boredom.", "Your ex is somewhere celebrating right now.", "The red flags have red flags.", "Even your pets know this won't last.", "This relationship has the structural integrity of wet tissue paper.", "Congratulations! You've achieved anti-chemistry.", "If toxicity was an Olympic sport, you'd both medal.", "Your joint therapist just quit their job.", "Even the stars looked at your charts and said 'absolutely not'.", "This is a masterclass in how NOT to date.", "Your ancestors are embarrassed.", "The universe itself is trying to separate you two.", "I've seen more chemistry between a rock and a hard place.", "This relationship expires faster than milk in summer.", "Your combined maturity age: 7 years old."
        ],
        run: [
            "The exit door is that way. Use it.", "This is a lesson disguised as a relationship.", "You're both ignoring so many red flags, it's impressive.", "Your friends are too nice to tell you the truth.", "This relationship is an emotional tax audit.", "The effort-to-reward ratio is deeply concerning.", "You're dating potential, not reality.", "Someone in this relationship is settling. Maybe both.", "The spark is actually a fire hazard warning.", "Your compatibility is best described as 'complicated'.", "This is what happens when you ignore your gut.", "The algorithm suggests a strategic retreat.", "Your relationship is running on fumes and nostalgia.", "One of you is trying significantly harder than the other.", "The foundation here is made of cracks.", "You're both holding onto an idea, not each other."
        ],
        questionable: [
            "The jury is still out on this one.", "Could go either way, honestly.", "You're in the 'we'll see' zone.", "The algorithm is genuinely undecided.", "This is what 'it's a maybe' looks like.", "Your relationship could use some fine-tuning.", "There's work to do, but it's possible.", "The foundation exists, now build on it.", "You're both in different chapters of the same book.", "The math says 'proceed with intention'.", "Your compatibility is a work in progress.", "This is the 'needs improvement' category.", "You've got something here, nurture it.", "The algorithm sees potential with conditions."
        ],
        mightWork: [
            "You've got something real here.", "The algorithm is cautiously optimistic.", "This could actually work out.", "Your compatibility is above average.", "The math says 'promising'.", "You're in good territory.", "The foundation is solid.", "This is what potential looks like.", "Your relationship has legs.", "The algorithm sees genuine connection.", "You're both on the right track.", "The energy here is 'this could be something'.", "Your compatibility is noteworthy.", "This is above the curve.", "The math indicates good things.", "Your relationship shows promise."
        ],
        decent: [
            "Okay, this is actually cute.", "The algorithm is impressed by your connection.", "You two might be the real deal.", "Your compatibility is genuinely strong.", "The math says 'we ship it'.", "This is what compatibility should look like.", "Your relationship has serious potential.", "The algorithm sees real partnership here.", "You're both on the same page.", "The energy here is 'this is right'.", "Your compatibility is excellent.", "This is the zone of 'why not you two?'", "The foundation is rock solid.", "You're in excellent territory.", "The math indicates genuine soul connection.", "Your relationship works beautifully."
        ],
        lifespans: [
            "Expires before next argument.", "Survives until someone gets bored.", "Will last... if phones are checked.", "Approximately 3 more passive-aggressive texts.", "Until one of you actually listens.", "The expiration date has already passed.", "Depends on who breaks first.", "As long as you both pretend everything's fine.", "Until the next reality check hits.", "Longer than a TikTok relationship, shorter than a marriage.", "About as long as a New Year's resolution.", "Until one of you stops trying.", "The math says: unpredictable.", "Depends on who you both meet next.", "Until the situationship ends... oh wait.", "However long denial lasts."
        ],
        hiddenTruths: [
            "One of you is secretly hoping the other changes. They won't.", "The effort imbalance is visible to everyone but you two.", "Someone's still emotionally married to their ex.", "You're both projecting what you want onto each other.", "The communication style clash will eventually break you.", "Someone's holding back a deal-breaker secret.", "The attraction is real, but the compatibility isn't.", "You're in love with potential, not the actual person.", "Someone has checked out but hasn't left yet.", "The trust issues are deeper than either admits.", "You're both settling for less than you deserve.", "Someone's only here because they're afraid to be alone.", "The values misalignment will cause major problems.", "You're performing a relationship instead of living one.", "Someone's secretly relieved when plans get cancelled."
        ],
        problemReasons: [
            "emotional damage", "drama ratio", "toxic trait level", "red flag inventory", "delusion density", "attention seeking", "commitment issues", "communication avoidance"
        ]
    };

    // ==================================================
    // UTILITY FUNCTIONS
    // ==================================================
    
    function hash(str) {
        let h = 0;
        for(let i = 0; i < str.length; i++) {
            h = Math.imul(31, h) + str.charCodeAt(i) | 0;
        }
        return Math.abs(h);
    }

    function rand(seed) {
        const x = Math.sin(seed) * 10000;
        return x - Math.floor(x);
    }

    function pick(arr, seed) {
        if(!arr || arr.length === 0) return "...";
        return arr[Math.floor(rand(seed) * arr.length)];
    }

    function norm(a, b) {
        const n1 = a.toLowerCase().trim();
        const n2 = b.toLowerCase().trim();
        return n1 < n2 ? n1 + n2 : n2 + n1;
    }

    // ==================================================
    // MAIN CALCULATION ENGINE
    // ==================================================
    
    function calculate(n1, n2, d1, d2) {
        const key = norm(n1, n2);
        const seed = hash(key);
        
        let score = 0;
        const lenDiff = Math.abs(n1.length - n2.length);
        score += Math.max(0, 15 - lenDiff * 2);
        
        const l1 = n1.toLowerCase();
        const l2 = n2.toLowerCase();
        let matches = 0;
        for(let c of l1) { if(l2.includes(c)) matches++; }
        score += Math.min(30, matches * 4);
        
        if(l1[0] === l2[0]) score += 10;
        score += rand(seed + 100) * 25;
        score = Math.min(100, Math.max(0, Math.round(score)));
        
        const drama = rand(seed + 200);
        if(drama < 0.05) score = Math.min(15, score);
        else if(drama < 0.15) score = Math.max(85, score);
        
        return { score, seed };
    }

    // ==================================================
    // UI LOGIC
    // ==================================================

    function initParticles() {
        const cont = document.getElementById('particles');
        for(let i = 0; i < 15; i++) {
            const p = document.createElement('div');
            p.className = 'particle';
            const size = Math.random() * 12 + 5;
            p.style.width = size + 'px';
            p.style.height = size + 'px';
            p.style.left = Math.random() * 100 + '%';
            p.style.animationDuration = (Math.random() * 10 + 15) + 's';
            p.style.animationDelay = -(Math.random() * 10) + 's';
            cont.appendChild(p);
        }
    }

    function showResults(data, n1, n2) {
        const {score, seed} = data;
        
        let cat = 'questionable';
        let emojis = '&#129300;&#128528;&#129323;';
        let title = 'Questionable';
        
        if(score <= 20) {
            cat = 'disaster'; emojis = '&#128163;&#128165;&#128128;'; title = 'Certified Disaster';
        } else if(score <= 40) {
            cat = 'run'; emojis = '&#128683;&#128561;&#127939;'; title = 'Run While You Can';
        } else if(score <= 60) {
            cat = 'questionable'; emojis = '&#129300;&#128528;&#129323;'; title = 'Questionable';
        } else if(score <= 80) {
            cat = 'mightWork'; emojis = '&#128522;&#128151;&#128536;'; title = 'Might Work';
        } else {
            cat = 'decent'; emojis = '&#128525;&#128149;&#128157;'; title = 'Actually Decent';
        }

        document.getElementById('scoreNum').innerText = score + '%';
        document.getElementById('emojis').innerHTML = emojis;
        document.getElementById('verdictTitle').innerText = title;
        document.getElementById('verdictText').innerText = pick(DATA[cat], seed);
        
        const pSeed = seed + 50;
        const pPct = Math.floor(rand(pSeed) * 50) + 35;
        const pName = rand(pSeed + 1) > 0.5 ? n1 : n2;
        const pReason = pick(DATA.problemReasons, pSeed + 2);
        document.getElementById('problemPercent').innerText = pPct + '%';
        document.getElementById('problemLabel').innerText = pName + "'s " + pReason;
        
        document.getElementById('exPercent').innerText = Math.floor(rand(seed+60) * 70 + 20) + '%';
        
        const cheatVal = rand(seed + 70);
        let cheatTxt = "Low"; let cheatPct = 20;
        if(cheatVal > 0.7) { cheatTxt = "High"; cheatPct = 80; }
        else if(cheatVal > 0.4) { cheatTxt = "Medium"; cheatPct = 50; }
        document.getElementById('cheatRisk').innerText = cheatTxt;
        document.getElementById('cheatBar').style.width = cheatPct + '%';
        
        const delVal = rand(seed + 80);
        let delTxt = "Stable"; let delPct = 25;
        if(score <= 20) { delTxt = "Certified Clown"; delPct = 95; }
        else if(score <= 40) { delTxt = "Delulu"; delPct = 70; }
        else if(score <= 60) { delTxt = "Questionable"; delPct = 50; }
        document.getElementById('delusionLevel').innerText = delTxt;
        document.getElementById('delusionBar').style.width = delPct + '%';
        
        document.getElementById('lifespanText').innerText = pick(DATA.lifespans, seed + 90);
        
        document.getElementById('hiddenText').innerText = pick(DATA.hiddenTruths, seed + 110);
        document.getElementById('lockOverlay').classList.remove('gone');
        
        document.getElementById('emoStab').innerText = Math.floor(rand(seed+120)*80+15)+'%';
        document.getElementById('emoBar').style.width = Math.floor(rand(seed+120)*80+15)+'%';
        document.getElementById('dramaPot').innerText = Math.floor(rand(seed+130)*80+15)+'%';
        document.getElementById('dramaBar').style.width = Math.floor(rand(seed+130)*80+15)+'%';
        document.getElementById('marrSurv').innerText = Math.floor(rand(seed+140)*80+10)+'%';
        document.getElementById('marrBar').style.width = Math.floor(rand(seed+140)*80+10)+'%';

        document.getElementById('resultsSection').classList.add('active');
        setTimeout(() => {
            document.getElementById('resultsSection').scrollIntoView({behavior: 'smooth', block: 'start'});
        }, 100);
    }

    function takeScreen() {
        const c = document.getElementById('canvas');
        const ctx = c.getContext('2d');
        const W = 500, H = 700;
        c.width = W; c.height = H;

        const grad = ctx.createLinearGradient(0,0,W,H);
        grad.addColorStop(0, '#FFF0F5');
        grad.addColorStop(1, '#FFDAB9');
        ctx.fillStyle = grad;
        ctx.fillRect(0,0,W,H);

        ctx.fillStyle = 'rgba(255,255,255,0.8)';
        roundRect(ctx, 20, 20, W-40, H-40, 20);
        ctx.fill();

        ctx.fillStyle = '#FF4D8D';
        ctx.font = 'bold 28px Poppins';
        ctx.textAlign = 'center';
        ctx.fillText('Couple or Clowns?', W/2, 70);

        ctx.fillStyle = '#FF4D8D';
        ctx.font = 'bold 80px Poppins';
        ctx.fillText(document.getElementById('scoreNum').innerText, W/2, 180);

        ctx.fillStyle = '#555';
        ctx.font = '16px Poppins';
        ctx.fillText(document.getElementById('verdictTitle').innerText, W/2, 220);

        function wrap(text, y) {
            const words = text.split(' ');
            let line = '';
            let lY = y;
            ctx.font = '13px Poppins';
            ctx.fillStyle = '#666';
            for(let w of words) {
                const test = line + w + ' ';
                if(ctx.measureText(test).width > W-80) {
                    ctx.fillText(line, W/2, lY);
                    line = w + ' ';
                    lY += 18;
                } else {
                    line = test;
                }
            }
            ctx.fillText(line, W/2, lY);
        }
        
        wrap(document.getElementById('verdictText').innerText, 260);

        ctx.fillStyle = '#FF8A5B';
        ctx.font = 'bold 14px Poppins';
        ctx.fillText('Lifespan:', W/2, 350);
        wrap(document.getElementById('lifespanText').innerText, 370);

        ctx.fillStyle = 'rgba(255,77,141,0.3)';
        ctx.font = '12px Poppins';
        ctx.fillText('savagelovecalculator.pages.dev', W/2, H-30);

        const link = document.createElement('a');
        link.download = 'savage-result.png';
        link.href = c.toDataURL('image/png');
        link.click();

        window.open('https://trustedoffers.pro/a/684E6FWvph54PA', '_blank');
    }

    function roundRect(ctx, x, y, w, h, r) {
        ctx.beginPath();
        ctx.moveTo(x+r, y);
        ctx.lineTo(x+w-r, y);
        ctx.quadraticCurveTo(x+w, y, x+w, y+r);
        ctx.lineTo(x+w, y+h-r);
        ctx.quadraticCurveTo(x+w, y+h, x+w-r, y+h);
        ctx.lineTo(x+r, y+h);
        ctx.quadraticCurveTo(x, y+h, x, y+h-r);
        ctx.lineTo(x, y+r);
        ctx.quadraticCurveTo(x, y, x+r, y);
        ctx.closePath();
    }

    function shareResult() {
        const text = `Our relationship scored ${document.getElementById('scoreNum').innerText} - ${document.getElementById('verdictTitle').innerText}! Check yours at savagelovecalculator.pages.dev`;
        const url = 'https://savagelovecalculator.pages.dev';
        if(navigator.share) {
            navigator.share({title: 'Savage Love Calculator', text: text, url: url});
        } else {
            navigator.clipboard.writeText(text + ' ' + url);
            alert('Result copied to clipboard!');
        }
    }

    // ==================================================
    // EVENT LISTENERS
    // ==================================================
    
    document.addEventListener('DOMContentLoaded', function() {
        initParticles();

        const scanBtn = document.getElementById('scanBtn');
        const name1 = document.getElementById('name1');
        const name2 = document.getElementById('name2');
        const dob1 = document.getElementById('dob1');
        const dob2 = document.getElementById('dob2');

        scanBtn.addEventListener('click', function() {
            if(!name1.value.trim() || !name2.value.trim()) {
                alert('Please enter both names!');
                return;
            }
            const data = calculate(name1.value, name2.value, dob1.value, dob2.value);
            showResults(data, name1.value, name2.value);
        });

        document.getElementById('lockOverlay').addEventListener('click', function() {
            window.open('https://trustedoffers.pro/a/684E6FWvph54PA', '_blank');
            this.classList.add('gone');
        });

        document.getElementById('downBtn').addEventListener('click', takeScreen);

        document.getElementById('resetBtn').addEventListener('click', function() {
            document.getElementById('resultsSection').classList.remove('active');
            name1.value = '';
            name2.value = '';
            dob1.value = '';
            dob2.value = '';
            window.scrollTo({top:0, behavior:'smooth'});
        });

        document.getElementById('share1').addEventListener('click', shareResult);
        document.getElementById('share2').addEventListener('click', shareResult);
        document.getElementById('share3').addEventListener('click', shareResult);
        
        [name1, name2].forEach(el => {
            el.addEventListener('keypress', (e) => {
                if(e.key === 'Enter') scanBtn.click();
            });
        });
    });
    </script>
</body>
</html>